<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.14"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CMakeProjectFramework: Custom targets</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="CMakeProjectFramework"/>
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../DoxygenStylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CMakeProjectFramework
   </div>
   <div id="projectbrief">A CMake and Jenkins based C++ CI pipeline.</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="../../search.html" method="get">
              <img id="MSearchSelect" src="../../search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('df/d03/_c_p_f_custom_targets.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Custom targets </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="CPFCustomTargetsSection"></a>
Custom targets in the CPF</h1>
<p>The lists do not contain some private targets of the CPF that are only created as sub-steps of the targets that are of interest to the user.</p>
<h2><a class="anchor" id="GlobalTargets"></a>
Global targets</h2>
<p>A CPF project contains some targets that operate on the global level. They either execute operations that can not be done for each package in separation or <em>bundle</em> up a certain kind of per-package targets. In this case building the bundle target will simply build all per-package targets of that kind.</p>
<p>Here is a list of targets that can exist once per CPF project.</p>
<ul>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#abicompliancechecker">abi-compliance-checker</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#ALL_BUILD">ALL_BUILD</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#distributionPackages">distributionPackages</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#doxygen">doxygen</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#dynamicAnalysis">dynamicAnalysis</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#globalFiles">globalFiles</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#install">install</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#pipeline">pipeline</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#runAllTests">runAllTests</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#runFastTests">runFastTests</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#staticAnalysis">staticAnalysis</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#ZERO_CHECK">ZERO_CHECK</a></li>
</ul>
<h2><a class="anchor" id="PackageTargets"></a>
Package targets</h2>
<p>Here is a list of targets that can exist once per CPF package.</p>
<ul>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#abicompliancechecker_package">abi-compliance-checker_&lt;package&gt;</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#clangtidy_package">clang-tidy_&lt;package&gt;</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#distributionPackages_package">distributionPackages_&lt;package&gt;</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#install_package">install_&lt;package&gt;</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#opencppcoverage_package">opencppcoverage_&lt;package&gt;</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#package">&lt;package&gt;</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#package_fixtures">&lt;package&gt;_fixtures</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#package_tests">&lt;package&gt;_tests</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#runAllTests_package">runAllTests_&lt;package&gt;</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#runFastTests_package">runFastTests_&lt;package&gt;</a></li>
<li><a class="el" href="../../df/d03/_c_p_f_custom_targets.html#valgrind_package">valgrind_&lt;package&gt;</a></li>
</ul>
<h2><a class="anchor" id="TargetAnnotations"></a>
Target annotations</h2>
<h3><a class="anchor" id="abicompliancechecker"></a>
abi-compliance-checker</h3>
<p>This target bundles the <a class="el" href="../../df/d03/_c_p_f_custom_targets.html#abicompliancechecker_package">abi-compliance-checker_&lt;package&gt;</a> targets.</p>
<h3><a class="anchor" id="ALL_BUILD"></a>
ALL_BUILD</h3>
<p>This target builds all binary targets.</p>
<h3><a class="anchor" id="distributionPackages"></a>
distributionPackages</h3>
<p>This target bundles the <a class="el" href="../../df/d03/_c_p_f_custom_targets.html#distributionPackages_package">distributionPackages_&lt;package&gt;</a> targets.</p>
<h3><a class="anchor" id="doxygen"></a>
doxygen</h3>
<p>This target runs doxygen to generate the documentation for all owned packages. It can be disabled with the <code>CPF_ENABLE_DOXYGEN_TARGET</code> variable.</p>
<h3><a class="anchor" id="dynamicAnalysis"></a>
dynamicAnalysis</h3>
<p>This target bundles the <a class="el" href="../../df/d03/_c_p_f_custom_targets.html#valgrind_package">valgrind_&lt;package&gt;</a> and <a class="el" href="../../df/d03/_c_p_f_custom_targets.html#opencppcoverage_package">opencppcoverage_&lt;package&gt;</a> targets.</p>
<h3><a class="anchor" id="globalFiles"></a>
globalFiles</h3>
<p>This is only a file container target that does not execute any commands. It holds all source files that are of global scope like tool configuration files, global documentation, etc..</p>
<h3><a class="anchor" id="install"></a>
install</h3>
<p>This CMake standard target bundles the <a class="el" href="../../df/d03/_c_p_f_custom_targets.html#install_package">install_&lt;package&gt;</a> targets.</p>
<h3><a class="anchor" id="pipeline"></a>
pipeline</h3>
<p>The top-level bundle target that will make sure that all other targets are built.</p>
<h3><a class="anchor" id="runAllTests"></a>
runAllTests</h3>
<p>This target bundles the <a class="el" href="../../df/d03/_c_p_f_custom_targets.html#runAllTests_package">runAllTests_&lt;package&gt;</a> targets.</p>
<h3><a class="anchor" id="runFastTests"></a>
runFastTests</h3>
<p>This target bundles the <a class="el" href="../../df/d03/_c_p_f_custom_targets.html#runFastTests_package">runFastTests_&lt;package&gt;</a> targets. This target is not contained in the <a class="el" href="../../df/d03/_c_p_f_custom_targets.html#pipeline">pipeline</a> target which always builds the <a class="el" href="../../df/d03/_c_p_f_custom_targets.html#runAllTests">runAllTests</a> target.</p>
<h3><a class="anchor" id="staticAnalysis"></a>
staticAnalysis</h3>
<p>This target bundles the <a class="el" href="../../df/d03/_c_p_f_custom_targets.html#runFastTests_package">runFastTests_&lt;package&gt;</a> targets. It also checks that the dependency graph of the projects binary targets is acyclic.</p>
<h3><a class="anchor" id="ZERO_CHECK"></a>
ZERO_CHECK</h3>
<p>A CMake default target that runs the CMake generate step.</p>
<h3><a class="anchor" id="abicompliancechecker_package"></a>
abi-compliance-checker_&lt;package&gt;</h3>
<p>This is a bundle target that runs the Abi-Compliance-Checker tool. The target only exists for project configurations that use <em>Gcc</em> with debug flags and for shared library packages.</p>
<h4>Report compatibility</h4>
<p>The basic functionality is to create html reports that compare the abi/api-compatibility of a previous libray package version with the current one. The reporst are added to the project web-page. To enable this, the target must be able to download previously generated distribution packages of that package from the project web-page, which must contain generated abi-dump files. This complex requirement makes the target somewhat fragile. This functionality can be disabled with the <code>CPF_ENABLE_ABI_API_COMPATIBILITY_CHECK_TARGETS</code> config variable.</p>
<h4>Enforce compatibility</h4>
<p>You can also enable targets that will fail to build if abi or api compatibility is hurt by your current changes. This option can be switched on in stable branches. To do so use the <code>CPF_CHECK_ABI_STABLE</code> and <code>CPF_CHECK_API_STABLE</code> config variables.</p>
<h3><a class="anchor" id="clangtidy_package"></a>
clang-tidy_&lt;package&gt;</h3>
<p>This target only exists when compiling on Linux with the clang compiler. It runs the <code>clang-tidy</code> tool on the packages source files.</p>
<p>The target can be disabled with the <code>CPF_ENABLE_STATIC_ANALYSIS_TARGET</code> config variable.</p>
<h3><a class="anchor" id="distributionPackages_package"></a>
distributionPackages_&lt;package&gt;</h3>
<p>Creates all <em>distribution packages</em> of the package. A <em>distribution package</em> is a file that is distributed to users of the package. This can be a zip file that contains the binaries or sources or an installer. The target is only created if the <code>addPackage()</code> function has the <code>DISTRIBUTION_PACKAGES</code> argument set.</p>
<h3><a class="anchor" id="install_package"></a>
install_&lt;package&gt;</h3>
<p>This target copies the packages binary files and public headers to the <code>${CMAKE_INSTALL_PREFIX}/&lt;package&gt;</code> directory.</p>
<dl class="todo"><dt><b><a class="el" href="../../dd/da0/todo.html#_todo000002">Todo:</a></b></dt><dd>Check if this can still be used like the Linux <code>{make</code> install} step without breaking the creation of the distribution packages.</dd></dl>
<h3><a class="anchor" id="opencppcoverage_package"></a>
opencppcoverage_&lt;package&gt;</h3>
<p>This target runs the test executable with OpenCppCoverage tool in order to create an html report that shows the code lines that are hit while running the tests. This target will only exist for project configurations that use <em>MSVC</em> and will only run the tool when compiling in <em>Debug</em> configuration.</p>
<p>The target can be disabled with the <code>CPF_ENABLE_DYNAMIC_ANALYSIS_TARGET</code> config variable.</p>
<h3><a class="anchor" id="package"></a>
&lt;package&gt;</h3>
<p>The main binary target of the package.</p>
<h3><a class="anchor" id="package_fixtures"></a>
&lt;package&gt;_fixtures</h3>
<p>An additional library that can be used to share test utility code between packages. It is only created if the <code>addPackage()</code> function has the <code>FIXTURE_FILES</code> and <code>PUBLIC_FIXTURE_HEADER</code> arguments set.</p>
<h3><a class="anchor" id="package_tests"></a>
&lt;package&gt;_tests</h3>
<p>The test executable that belongs to the package. This target is only created if the <code>addPackage()</code> function has the <code>TEST_FILES</code> argument set. The executable should run automated tests when executed.</p>
<h3><a class="anchor" id="runAllTests_package"></a>
runAllTests_&lt;package&gt;</h3>
<p>This target runs all the tests in the <a class="el" href="../../df/d03/_c_p_f_custom_targets.html#package_tests">&lt;package&gt;_tests</a> executable.</p>
<p>The target can be disabled with the <code>CPF_ENABLE_RUN_TESTS_TARGET</code> config variable.</p>
<h3><a class="anchor" id="runFastTests_package"></a>
runFastTests_&lt;package&gt;</h3>
<p>This target runs all the tests in the <a class="el" href="../../df/d03/_c_p_f_custom_targets.html#package_tests">&lt;package&gt;_tests</a> executable that have either the word <em>FastFixture</em> or <em>FastTests</em> included in their name. It is the the users responsibility to make sure that the tests with those names are really fast tests.</p>
<p>The purpose of the target is to provide a way of executing only tests that are run quickly an which are therefor useful when working in a tight test-driven development cycle.</p>
<p>The target can be disabled with the <code>CPF_ENABLE_RUN_TESTS_TARGET</code> config variable.</p>
<h3><a class="anchor" id="valgrind_package"></a>
valgrind_&lt;package&gt;</h3>
<p>This target runs the test executable with the <em>Valgrind</em> tool, which can help to detect memory leaks or undifined behavior. The target only exists for project configurations that use <em>Gcc</em> or <em>Clang</em> with debug flags. When this target is enabled you must also add the empty file <code>Other/MyPackageValgrindSuppressions.supp</code> file to all packages. You can use this file to suppress false positives or unfixable issues that are found by <em>Valgrind</em>.</p>
<p>The target can be disabled with the <code>CPF_ENABLE_DYNAMIC_ANALYSIS_TARGET</code> config variable. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Wed May 16 2018 21:33:15 for CMakeProjectFramework by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="../../doxygen.png" alt="doxygen"/></a> 1.8.14 </li>
  </ul>
</div>
</body>
</html>
