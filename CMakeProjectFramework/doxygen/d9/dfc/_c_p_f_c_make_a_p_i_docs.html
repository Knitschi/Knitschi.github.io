<!-- HTML header for doxygen 1.8.14-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
 <!--<meta name="generator" content="Doxygen 1.8.14"/> -->
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CMakeProjectFramework: API Documentation</title>
<link href="../../tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../jquery.js"></script>
<script type="text/javascript" src="../../dynsections.js"></script>
<link href="../../navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../resize.js"></script>
<script type="text/javascript" src="../../navtreedata.js"></script>
<script type="text/javascript" src="../../navtree.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(initResizable);
/* @license-end */</script>
<link href="../../search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="../../search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
  /* @license-end */
</script>
<link rel="search" href="../../search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="CMakeProjectFramework"/>
<!---->
<link href="../../doxygen.css" rel="stylesheet" type="text/css" />
<link href="../../DoxygenStylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="../../CPFLogoSmall.svg" style="width:65px;height:65px;" /></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CMakeProjectFramework
   </div>
   <div id="projectbrief">A C++ project infrastructure.</div>
  </td>
   <!--<td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="../../search.html" method="get">
              <img id="MSearchSelect" src="../../search/mag.png" alt=""/>
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>-->
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.14 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "../../search",false,'Search');
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('d9/dfc/_c_p_f_c_make_a_p_i_docs.html','../../');});
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">API Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>This page holds the documentation of the <em>CMake</em> functions that are provided to the users of the <em>CPFCMake</em> package.</p>
<h1><a class="anchor" id="cpfAddPackageModule"></a>
Module cpfAddPackage.cmake</h1>
<p>This module provides the following functions.</p>
<ul>
<li><a class="el" href="../../d9/dfc/_c_p_f_c_make_a_p_i_docs.html#cpfInitPackageProject">cpfInitPackageProject()</a></li>
<li><a class="el" href="../../d9/dfc/_c_p_f_c_make_a_p_i_docs.html#cpfAddPackage">cpfAddPackage()</a></li>
</ul>
<h2><a class="anchor" id="cpfInitPackageProject"></a>
cpfInitPackageProject()</h2>
<div class="fragment"><div class="line">cpfInitPackageProject(</div><div class="line">    packageNameOut</div><div class="line">    packageNameSpace</div><div class="line">) </div></div><!-- fragment --><p>This function is called at the beginning of a packages <em>CMakeLists.txt</em> file. This function calls the <code>project()</code> function to create the package-level project. It automatically reads the version number of the package from the packages git repository or a provided version file. It also reads the directory name as the package name and returns it with parameter <code>packageNameOut</code>.</p>
<p>Parameter <code>packageNameSpace</code> is used in the following ways:</p>
<ul>
<li>CPFCMake assumes, that you use that namespace as the basic namespace for all your C++ files.</li>
<li>The name is used as a namespace in the packages generated C++ version header file.</li>
<li>As a namespace for the packages cmake target names.</li>
<li>As a part of the packages export macro which must be prepended to all exported classes and functions in a library.</li>
<li>The default package documentation page will generate a documentation of that namespace.</li>
</ul>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../df/d2a/_c_p_f_basic_concepts.html#CIProjectAndPackageProjects">CI project vs. package projects</a></dd></dl>
<h2><a class="anchor" id="cpfAddPackage"></a>
cpfAddPackage()</h2>
<div class="fragment"><div class="line">cpfAddPackage(</div><div class="line">    PACKAGE_NAME name</div><div class="line">    [BRIEF_DESCRIPTION description]</div><div class="line">    [LONG_DESCRIPTION description]</div><div class="line">    [HOMEPAGE url]</div><div class="line">    [MAINTAINER_EMAIL address]</div><div class="line">    PACKAGE_NAMESPACE <span class="keyword">namespace</span></div><div class="line">    TYPE [GUI_APP|CONSOLE_APP|LIB]</div><div class="line">    [PUBLIC_HEADER header1 [header2 ...]]</div><div class="line">    PRODUCTION_FILES file1 [file2 ...]</div><div class="line">    [PUBLIC_FIXTURE_HEADER header1 [header2 ...]]</div><div class="line">    [FIXTURE_FILES file1 [file2 ...]]</div><div class="line">    [TEST_FILES file1 [file2 ...]]</div><div class="line">    [LINKED_LIBRARIES target1 [target2 ...]]</div><div class="line">    [LINKED_TEST_LIBRARIES target1 [target2 ...]]</div><div class="line">    [PLUGIN_DEPENDENCIES </div><div class="line">        PLUGIN_DIRECTORY dir</div><div class="line">        PLUGIN_TARGETS target1 [target2 ...]</div><div class="line">        [PLUGIN_DIRECTORY ...] ...]</div><div class="line">    [DISTRIBUTION_PACKAGES</div><div class="line">        DISTRIBUTION_PACKAGE_CONTENT_TYPE [BINARIES_DEVELOPER|BINARIES_USER excludedTargets]</div><div class="line">        DISTRIBUTION_PACKAGE_FORMATS [7Z|TBZ2|TGZ|TXZ|TZ|ZIP|DEB] [format2 ...]</div><div class="line">        [DISTRIBUTION_PACKAGE_FORMAT_OPTIONS </div><div class="line">            [SYSTEM_PACKAGES_DEB packageListString ]]</div><div class="line">        [DISTRIBUTION_PACKAGE_CONTENT_TYPE ...] ...]</div><div class="line">    [ENABLE_ABI_API_COMPATIBILITY_CHECK_TARGETS <span class="keywordtype">bool</span>]</div><div class="line">)</div></div><!-- fragment --><p>Adds a C++ package to a CPF project. The function provides a large list of options that allow defining the features that the CPF package should provide.</p>
<p>A package consists of a main binary target that has the same name as the package and some helper binary targets for tests and test utilities. Providing the function with optional arguments will switch on more of CPF's functionality like test-targets, code-analysis, packaging or documentation generation.</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="../../df/d03/_c_p_f_custom_targets.html">Custom targets</a></dd></dl>
<h3>Keyword Arguments</h3>
<h4>PACKAGE_NAME</h4>
<p>The should be retrieved with the <a class="el" href="../../d9/dfc/_c_p_f_c_make_a_p_i_docs.html#cpfInitPackageProject">cpfInitPackageProject()</a> function to make sure that it is the name of the current source directory. This will be used as the name of the main binary target of the package.</p>
<h4>[BRIEF_DESCRIPTION]</h4>
<p>A short description in one sentence about what the package does. This is included in the generated documentation page of the package and in some distribution package types.</p>
<h4>[LONG_DESCRIPTION]</h4>
<p>A longer description of the package. This is included in the generated documentation page of the package and in some distribution package types.</p>
<h4>[HOMEPAGE]</h4>
<p>A web address from where the source-code and/or the documentation of the package can be obtained. This is required for Debian packages.</p>
<h4>[MAINTAINER_EMAIL]</h4>
<p>An email address under which the maintainers of the package can be reached. This is required for Debian packages.</p>
<h4>PACKAGE_NAMESPACE</h4>
<dl class="section see"><dt>See also</dt><dd>cpfInitPackageProject</dd></dl>
<h4>TYPE</h4>
<p>The type of the main binary target of the package.</p>
<p><code>GUI_APP</code> = Executable with switched of console. Use this for Qt applications with GUI; <code>CONSOLE_APP</code> = Console application; <code>LIB</code> = Library</p>
<h4>PUBLIC_HEADER</h4>
<p>All header files that declare functions or classes that are supposed to be used by consumers of a library package. The public headers will automatically be put into binary distribution packages, while header files in the <code>PRODUCTION_FILES</code> are not included.</p>
<h4>PRODUCTION_FILES</h4>
<p>All files that belong to the production target. If the target is an executable, there should be a main.cpp that is used for the executable.</p>
<h4>PUBLIC_FIXTURE_HEADER</h4>
<p>All header files in the fixture library that are required by external clients of the library. If the fixture library is only used by this package, this can be empty.</p>
<h4>FIXTURE_FILES</h4>
<p>All files that belong to the test fixtures target.</p>
<h4>TEST_FILES</h4>
<p>All files that belong to the test executable target.</p>
<h4>LINKED_LIBRARIES</h4>
<p>The names of the library targets that are linked to the main binary target.</p>
<h4>LINKED_TEST_LIBRARIES</h4>
<p>The names of the library targets that are linked to the test fixture library and the test executable. Use this to specify dependencies of the test targets that are not needed in the production code, like fixture libraries from other packages.</p>
<h4>[PLUGIN_DEPENDENCIES]...</h4>
<p>This keyword opens a sub-list of arguments that are used to define plugin dependencies of the package. Multiple PLUGIN_DEPENDENCIES sub-lists can be given to allow having multiple plugin subdirectories.</p>
<p>The plugin targets are shared libraries that are explicitly loaded by the packages executables and on which the package has no link dependency. If a target in the list does not exist when the function is called, it will be silently ignored. If a given target is an internal target, an artificial dependency between the plugin target and the packages executables is created to make sure the plugin is compilation is up-to-date before the executable is build.</p>
<p>Adding this options makes sure that the plugin library is build before the executable and copied besides it in the <code>PLUGIN_DIRECTORY</code>.</p>
<p>Sub-Options:</p>
<p><code>PLUGIN_DIRECTORY:</code> A directory relative to the packages executables in which the plugin libraries must be deployed so they are found by the executable. This if often a <code>plugins</code> directory.</p>
<p><code>PLUGIN_TARGETS:</code> The name of the targets that provide the plugin libraries.</p>
<h4>[DISTRIBUTION_PACKAGES]...</h4>
<p>This keyword opens a sub-list of arguments that are used to specify a list of packages that have the same content, but different formats. The argument can be given multiple times, in order to define a variety of package formats and content types. The argument takes two lists as sub-arguments. A distribution package is created for each combination of the elements in the sub-argument lists. For example: argument <code>DISTRIBUTION_PACKAGES_0 DISTRIBUTION_PACKAGE_CONTENT_TYPES BINARIES_USER_PORTABLE DISTRIBUTION_PACKAGE_FORMATS ZIP;7Z</code> will cause the creation of a zip and a 7z archive that both contain the packages executables and all depended on shared libraries. Adding another argument <code>DISTRIBUTION_PACKAGES_1 DISTRIBUTION_PACKAGE_CONTENT_TYPES BINARIES_USER_NOSYSTEMLIBS DISTRIBUTION_PACKAGE_FORMATS DEB</code> will cause the additional creation of a debian package, that will not contain the dependencies marked as system libraries.</p>
<p>Sub-Options:</p>
<p><code>DISTRIBUTION_PACKAGE_CONTENT_TYPE</code> <br />
</p><ul>
<li><code>BINARIES_DEVELOPER</code>: The package will include all package binaries, header files and cmake config files for importing the package in another project. This content type is supposed to be used for packages that distribute "closed source" libraries.</li>
<li><code>BINARIES_USER listExcludedTargets</code>: The package will include the packages executables and shared libraries and all depended on shared libraries. This is intended for packages that are delivered to the enduser who will not need header files etc. The BINARIES_USER keyword can be followed by a list of depended on targets that shall not be included in the package. This is usefull when the dependencies are provided by the systems package manager for example.</li>
</ul>
<p><code>DISTRIBUTION_PACKAGE_FORMATS</code> </p>
<ul>
<li><code>7Z |TBZ2 | TGZ | TXZ | TZ | ZIP</code>: Packs the distributed files into one of the following archive formats: .7z, .tar.bz2, .tar.gz, .tar.xz, tar.Z, .zip</li>
<li><code>DEB</code>: Creates a debian package .deb file. This will only be created when the dpkg tool is available.</li>
</ul>
<p><code>DISTRIBUTION_PACKAGE_FORMAT_OPTIONS</code> </p>
<p>A list of keyword arguments that contain further options for the creation of the distribution packages.</p>
<ul>
<li><code>[SYSTEM_PACKAGES_DEB]</code>: This is only relevant when using the DEB package format. The option must be a string that contains the names and versions of the debian packages that provide the excluded shared libraries from the BINARIES_USER option. E.g. "libc6 (&gt;= 2.3.1-6), libc6 (&lt; 2.4)" on which the package depends.</li>
</ul>
<h4>[ENABLE_ABI_API_COMPATIBILITY_CHECK_TARGETS bool]</h4>
<p>This option can be used to override the global CPF_ENABLE_ABI_API_COMPATIBILITY_CHECK_TARGETS setting.</p>
<h3>Example</h3>
<p>Here is an example of an <code>CMakeLists.txt</code> file for a library package.</p>
<div class="fragment"><div class="line"># MyLib/CMakeLists.txt</div><div class="line"></div><div class="line">include(cpfAddPackage)</div><div class="line">include(cpfConstants)</div><div class="line"></div><div class="line">set( PACKAGE_NAMESPACE myl )</div><div class="line"></div><div class="line">set( briefDescription &quot;My awsome library.&quot; )</div><div class="line"></div><div class="line">set( longDescription </div><div class="line">&quot;Here you can go on in length about how awsome your library is.&quot;</div><div class="line">)</div><div class="line"></div><div class="line">cpfInitPackageProject(</div><div class="line">    PACKAGE_NAME</div><div class="line">    ${PACKAGE_NAMESPACE}</div><div class="line">)</div><div class="line"></div><div class="line">######################################### Define package files ######################################################</div><div class="line">set( PACKAGE_PUBLIC_HEADERS</div><div class="line">    MyFunction.h</div><div class="line">)</div><div class="line"></div><div class="line">set( PACKAGE_PRODUCTION_FILES</div><div class="line">    MyFunction.cpp</div><div class="line">    MyPrivateFunction.h</div><div class="line">    MyPrivateFunction.cpp</div><div class="line">)</div><div class="line"></div><div class="line">set( PACKAGE_FIXTURE_FILES</div><div class="line">    TestFixtures/MyFunction_fixtures.cpp</div><div class="line">    TestFixtures/MyFunction_fixtures.h</div><div class="line">)</div><div class="line"></div><div class="line">set( PACKAGE_TEST_FILES</div><div class="line">    Tests/MyFunction_tests.cpp</div><div class="line">)</div><div class="line"></div><div class="line">set(PACKAGE_LINKED_LIBRARIES</div><div class="line">    Qt5::Core</div><div class="line">    Qt5::Gui</div><div class="line">)</div><div class="line"></div><div class="line">set(PACKAGE_LINKED_TEST_LIBRARIES</div><div class="line">    GMock::gmock</div><div class="line">)</div><div class="line"></div><div class="line">set( qtPlatformPlugins </div><div class="line">    PLUGIN_DIRECTORY    platforms</div><div class="line">    PLUGIN_TARGETS      Qt5::QWindowsIntegrationPlugin Qt5::QXcbIntegrationPlugin</div><div class="line">)</div><div class="line"></div><div class="line">set( archiveDevPackageOptions</div><div class="line">    DISTRIBUTION_PACKAGE_CONTENT_TYPE   BINARIES_DEVELOPER</div><div class="line">    DISTRIBUTION_PACKAGE_FORMATS        7Z</div><div class="line">)</div><div class="line"></div><div class="line">set( archiveUserPackageOptions</div><div class="line">    DISTRIBUTION_PACKAGE_CONTENT_TYPE   BINARIES_USER</div><div class="line">    DISTRIBUTION_PACKAGE_FORMATS        ZIP</div><div class="line">)</div><div class="line"></div><div class="line">set( debianPackageOptions</div><div class="line">    DISTRIBUTION_PACKAGE_CONTENT_TYPE   BINARIES_USER Qt5::Core Qt5::Test Qt5::Gui_GL Qt5::QXcbIntegrationPlugin</div><div class="line">    DISTRIBUTION_PACKAGE_FORMATS        DEB</div><div class="line">    DISTRIBUTION_PACKAGE_FORMAT_OPTIONS SYSTEM_PACKAGES_DEB &quot;libqt5core5a, libqt5gui5&quot; </div><div class="line">)</div><div class="line"></div><div class="line">############################################## Add Package ###################################################</div><div class="line">cpfAddPackage( </div><div class="line">    PACKAGE_NAME            ${PACKAGE_NAME}</div><div class="line">    PACKAGE_NAMESPACE       ${PACKAGE_NAMESPACE}</div><div class="line">    HOMEPAGE                &quot;http://www.awsomelib.com/index.html&quot;</div><div class="line">    MAINTAINER_EMAIL        &quot;hans@awsomelib.com&quot;</div><div class="line">    TYPE                    LIB</div><div class="line">    BRIEF_DESCRIPTION       ${briefDescription}</div><div class="line">    LONG_DESCRIPTION        ${longDescription}</div><div class="line">    PUBLIC_HEADER           ${PACKAGE_PUBLIC_HEADERS}</div><div class="line">    PRODUCTION_FILES        ${PACKAGE_PRODUCTION_FILES}</div><div class="line">    FIXTURE_FILES           ${PACKAGE_FIXTURE_FILES}</div><div class="line">    TEST_FILES              ${PACKAGE_TEST_FILES}</div><div class="line">    LINKED_LIBRARIES        ${PACKAGE_LINKED_LIBRARIES}</div><div class="line">    LINKED_TEST_LIBRARIES   ${PACKAGE_LINKED_TEST_LIBRARIES}</div><div class="line">    PLUGIN_DEPENDENCIES     ${qtPlatformPlugins}</div><div class="line">    DISTRIBUTION_PACKAGES   ${archiveDevPackageOptions}</div><div class="line">    DISTRIBUTION_PACKAGES   ${archiveUserPackageOptions}</div><div class="line">    DISTRIBUTION_PACKAGES   ${debianPackageOptions}</div><div class="line">)</div></div><!-- fragment --> </div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<div id="nav-path" class="navpath-cpf"><!-- id is needed for treeview function! -->
  <ul>
    <!-- -->
    <li class="footer">Created with Doxygen 1.8.14</li>
  </ul>
</div>
</body>
</html>
